<!-- layouts/index.html -->
{{ define "main" }}
  <!-- Banner Section -->
  <section class="relative bg-gradient-to-r from-blue-600 to-blue-700 text-white py-20">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center justify-between">
        <div class="md:w-1/2 mb-8 md:mb-0">
          <h1 class="text-4xl md:text-5xl font-bold mb-4">
            {{ .Site.Title }}
          </h1>
          <p class="text-xl md:text-2xl mb-8">
            {{ .Site.Params.description }}
          </p>
          <a href="/about" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition duration-300">
            Learn More
          </a>
        </div>
        <div class="md:w-1/2">
          <img src="/images/banner-image.jpg" alt="Banner" class="rounded-lg shadow-xl">
        </div>
      </div>
    </div>
  </section>

  <!-- Latest Posts Section -->
  <section class="py-16">
    <div class="container mx-auto px-4">
      <!-- Latest Posts Heading -->
      <div class="mb-12">
        <h2 class="text-3xl font-bold text-gray-900">Latest Posts</h2>
      </div>

      <!-- Blog Posts -->
      {{ $pages := where .Site.RegularPages "Type" "blog" }}
      {{ range $index, $page := first 6 $pages }}
        <div class="mb-16">
          {{ if modBool $index 2 }}
          <!-- Even numbered posts (Image Right) -->
          <div class="flex flex-col md:flex-row items-center gap-8">
            <div class="md:w-2/3">
              <h3 class="text-2xl font-bold mb-4">
                <a href="{{ .RelPermalink }}" class="text-gray-900 hover:text-blue-600">
                  {{ .Title }}
                </a>
              </h3>
              <div class="prose max-w-none mb-6">
                {{ .Summary }}
              </div>
              <a href="{{ .RelPermalink }}" class="inline-flex items-center text-blue-600 font-semibold hover:text-blue-700">
                Read More
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
              </a>
            </div>
            <div class="md:w-1/3">
              {{ with .Params.image }}
              <img src="{{ . }}" alt="{{ $page.Title }}" class="rounded-lg shadow-md w-full">
              {{ else }}
              <img src="/api/placeholder/600/400" alt="{{ $page.Title }}" class="rounded-lg shadow-md w-full">
              {{ end }}
            </div>
          </div>
          {{ else }}
          <!-- Odd numbered posts (Image Left) -->
          <div class="flex flex-col md:flex-row items-center gap-8">
            <div class="md:w-1/3">
              {{ with .Params.image }}
              <img src="{{ . }}" alt="{{ $page.Title }}" class="rounded-lg shadow-md w-full">
              {{ else }}
              <img src="/api/placeholder/600/400" alt="{{ $page.Title }}" class="rounded-lg shadow-md w-full">
              {{ end }}
            </div>
            <div class="md:w-2/3">
              <h3 class="text-2xl font-bold mb-4">
                <a href="{{ .RelPermalink }}" class="text-gray-900 hover:text-blue-600">
                  {{ .Title }}
                </a>
              </h3>
              <div class="prose max-w-none mb-6">
                {{ .Summary }}
              </div>
              <a href="{{ .RelPermalink }}" class="inline-flex items-center text-blue-600 font-semibold hover:text-blue-700">
                Read More
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
              </a>
            </div>
          </div>
          {{ end }}
        </div>
      {{ end }}

      <!-- Pagination -->
      {{ $paginator := .Paginate $pages }}
      {{ if gt $paginator.TotalPages 1 }}
      <div class="flex justify-center items-center space-x-4 mt-12">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition duration-300">
          Previous
        </a>
        {{ end }}
        <span class="text-gray-600">
          Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}
        </span>
        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition duration-300">
          Next
        </a>
        {{ end }}
      </div>
      {{ end }}
    </div>
  </section>

  <style>
  /* RTL Support */
  [dir="rtl"] .prose {
    text-align: right;
  }
  
  /* Responsive image sizing */
  .post-image {
    max-height: 400px;
    object-fit: cover;
  }
  
  @media (max-width: 768px) {
    [class*="md:flex-row"] {
      flex-direction: column !important;
    }
    [class*="md:w-"] {
      width: 100% !important;
    }
  }
  </style>
{{ end }}
